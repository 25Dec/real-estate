{"version":3,"file":"blocks-store-CY-29APJ.js","sources":["../../../../stores/blocks-store.js"],"sourcesContent":["import { baseUrl } from '~/constants';\r\n\r\nexport const useBlocksStore = defineStore('Blocks', () => {\r\n\tconst blocks = ref([]);\r\n\tconst currentBlock = ref({});\r\n\r\n\tconst getBlocks = async () => {\r\n\t\tconst accessToken = useCookie('token');\r\n\t\tconst { data } = await useFetch(baseUrl + '/auth/block', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\taccess_token: accessToken.value,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tblocks.value = data.value.data.data;\r\n\t};\r\n\r\n\tconst addNewBlock = async (data) => {\r\n\t\tconst accessToken = useCookie('token');\r\n\t\tconst response = await $fetch(baseUrl + `/auth/block`, {\r\n\t\t\tmethod: 'post',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\taccess_token: accessToken.value,\r\n\t\t\t},\r\n\t\t\tbody: data,\r\n\t\t});\r\n\r\n\t\tawait getBlocks();\r\n\t\treturn response;\r\n\t};\r\n\r\n\tconst editBlock = async (data) => {\r\n\t\tconst accessToken = useCookie('token');\r\n\t\tconst response = await $fetch(baseUrl + `/auth/block/${data['id']}`, {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\taccess_token: accessToken.value,\r\n\t\t\t},\r\n\t\t\tbody: data,\r\n\t\t});\r\n\r\n\t\tawait getBlocks();\r\n\t\treturn response;\r\n\t};\r\n\r\n\tconst deleteBlock = async (data) => {\r\n\t\tconst accessToken = useCookie('token');\r\n\t\tlet response = '';\r\n\t\ttry {\r\n\t\t\tresponse = await $fetch(baseUrl + `/auth/block/${data['id']}`, {\r\n\t\t\t\tmethod: 'delete',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\taccess_token: accessToken.value,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tresponse = { ...error };\r\n\t\t}\r\n\r\n\t\tawait getBlocks();\r\n\t\treturn response;\r\n\t};\r\n\r\n\treturn {\r\n\t\tblocks,\r\n\t\tcurrentBlock,\r\n\t\tgetBlocks,\r\n\t\taddNewBlock,\r\n\t\teditBlock,\r\n\t\tdeleteBlock,\r\n\t};\r\n});\r\n"],"names":[],"mappings":";;;;;;;;AAEY,MAAC,iBAAiB,YAAY,UAAU,MAAM;AACzD,QAAM,SAAS,IAAI,CAAA,CAAE;AACrB,QAAM,eAAe,IAAI,CAAA,CAAE;AAE3B,QAAM,YAAY,YAAY;AAC7B,UAAM,cAAc,UAAU,OAAO;AACrC,UAAM,EAAE,KAAM,IAAG,MAAM,SAAS,UAAU,eAAe;AAAA,MACxD,SAAS;AAAA,QACR,gBAAgB;AAAA,QAChB,cAAc,YAAY;AAAA,MAC1B;AAAA,IACF,GAAA,aAAC;AAED,WAAO,QAAQ,KAAK,MAAM,KAAK;AAAA,EACjC;AAEC,QAAM,cAAc,OAAO,SAAS;AACnC,UAAM,cAAc,UAAU,OAAO;AACrC,UAAM,WAAW,MAAM,OAAO,UAAU,eAAe;AAAA,MACtD,QAAQ;AAAA,MACR,SAAS;AAAA,QACR,gBAAgB;AAAA,QAChB,cAAc,YAAY;AAAA,MAC1B;AAAA,MACD,MAAM;AAAA,IACT,CAAG;AAED,UAAM,UAAS;AACf,WAAO;AAAA,EACT;AAEC,QAAM,YAAY,OAAO,SAAS;AACjC,UAAM,cAAc,UAAU,OAAO;AACrC,UAAM,WAAW,MAAM,OAAO,UAAU,eAAe,KAAK,IAAI,CAAC,IAAI;AAAA,MACpE,QAAQ;AAAA,MACR,SAAS;AAAA,QACR,gBAAgB;AAAA,QAChB,cAAc,YAAY;AAAA,MAC1B;AAAA,MACD,MAAM;AAAA,IACT,CAAG;AAED,UAAM,UAAS;AACf,WAAO;AAAA,EACT;AAEC,QAAM,cAAc,OAAO,SAAS;AACnC,UAAM,cAAc,UAAU,OAAO;AACrC,QAAI,WAAW;AACf,QAAI;AACH,iBAAW,MAAM,OAAO,UAAU,eAAe,KAAK,IAAI,CAAC,IAAI;AAAA,QAC9D,QAAQ;AAAA,QACR,SAAS;AAAA,UACR,gBAAgB;AAAA,UAChB,cAAc,YAAY;AAAA,QAC1B;AAAA,MACL,CAAI;AAAA,IACD,SAAQ,OAAO;AACf,iBAAW,EAAE,GAAG;IAChB;AAED,UAAM,UAAS;AACf,WAAO;AAAA,EACT;AAEC,SAAO;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,CAAC;"}
{"version":3,"file":"index-BIpCty6i.js","sources":["../../../../pages/project_details/block/index.vue"],"sourcesContent":["<script setup>\r\n\timport { FilterMatchMode } from 'primevue/api';\r\n\r\n\tconst { zones } = storeToRefs(useZonesStore());\r\n\tconst { getZones } = useZonesStore();\r\n\tconst { blocks, currentBlock } = storeToRefs(useBlocksStore());\r\n\tconst { getBlocks } = useBlocksStore();\r\n\r\n\tawait getZones();\r\n\tawait getBlocks();\r\n\r\n\tzones.value = zones.value.map((zone) => {\r\n\t\treturn { id: zone.id, name: `${zone.name}`, value: `${zone.id}` };\r\n\t});\r\n\tconst currentZone = ref({\r\n\t\tname: zones.value[0]?.name ?? '',\r\n\t\tvalue: zones.value[0]?.value ?? '',\r\n\t});\r\n\tconst myBlocksBaseOnZoneID = computed(() => {\r\n\t\treturn blocks.value.filter((block) => {\r\n\t\t\treturn block['zone_id'] == currentZone.value.value;\r\n\t\t});\r\n\t});\r\n\tconst types = ref([\r\n\t\t{ name: 'Normal', value: 'normal' },\r\n\t\t{ name: 'Luxury', value: 'luxury' },\r\n\t]);\r\n\tconst filters = ref({\r\n\t\tglobal: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n\t});\r\n\tconst menu = ref();\r\n\tconst menuItems = ref([\r\n\t\t{\r\n\t\t\tlabel: 'Move to Floor',\r\n\t\t\tcommand: () => {},\r\n\t\t},\r\n\t]);\r\n\r\n\tconst viewDetailsBlockDialogVisible = ref(false);\r\n\tconst createBlockDialogVisible = ref(false);\r\n\tconst editBlockDialogVisible = ref(false);\r\n\tconst deleteBlockDialogVisible = ref(false);\r\n\r\n\tconst handleDropdown = (event) => {\r\n\t\tmyBlocksBaseOnZoneID.value = blocks.value.filter((block) => {\r\n\t\t\treturn block['zone_id'] == event.value;\r\n\t\t});\r\n\t};\r\n\tconst toggleViewDetailsBlock = (data) => {\r\n\t\tcurrentBlock.value = data;\r\n\t\tviewDetailsBlockDialogVisible.value = !viewDetailsBlockDialogVisible.value;\r\n\t};\r\n\tconst toggleEditBlock = (data) => {\r\n\t\tcurrentBlock.value = data;\r\n\t\teditBlockDialogVisible.value = !editBlockDialogVisible.value;\r\n\t};\r\n\tconst toggleDeleteBlock = async (data) => {\r\n\t\tcurrentBlock.value = data;\r\n\t\tdeleteBlockDialogVisible.value = !deleteBlockDialogVisible.value;\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"w-full h-full flex flex-col\">\r\n\t\t<div\r\n\t\t\tclass=\"fixed right-0 top-0 z-50 backdrop-blur-xl w-5/6 h-[8%] px-4 border-b flex justify-between items-center\"\r\n\t\t>\r\n\t\t\t<div class=\"flex items-center gap-2\">\r\n\t\t\t\t<span class=\"font-semibold text-lg\">Block</span>\r\n\t\t\t\t<Tag :value=\"myBlocksBaseOnZoneID.length\"></Tag>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"flex items-center gap-2\">\r\n\t\t\t\t<IconField iconPosition=\"left\">\r\n\t\t\t\t\t<InputIcon class=\"flex items-center\">\r\n\t\t\t\t\t\t<Icon name=\"mdi:filter-outline\" />\r\n\t\t\t\t\t</InputIcon>\r\n\t\t\t\t\t<InputText\r\n\t\t\t\t\t\tv-model=\"filters['global'].value\"\r\n\t\t\t\t\t\tplaceholder=\"Filter Block...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</IconField>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tlabel=\"New\"\r\n\t\t\t\t\t@click=\"createBlockDialogVisible = !createBlockDialogVisible\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div\r\n\t\t\tclass=\"fixed right-0 top-[8%] z-50 backdrop-blur-xl w-5/6 h-[8%] px-4 border-b flex justify-between items-center\"\r\n\t\t>\r\n\t\t\t<div class=\"flex items-center gap-2\">\r\n\t\t\t\t<label\r\n\t\t\t\t\tfor=\"currentZone\"\r\n\t\t\t\t\tclass=\"font-semibold text-lg\"\r\n\t\t\t\t\t>Current Zone:\r\n\t\t\t\t</label>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\tid=\"currentZone\"\r\n\t\t\t\t\tplaceholder=\"Select Zone\"\r\n\t\t\t\t\tv-model=\"currentZone.value\"\r\n\t\t\t\t\t:options=\"zones\"\r\n\t\t\t\t\toptionLabel=\"name\"\r\n\t\t\t\t\toptionValue=\"value\"\r\n\t\t\t\t\t@change=\"(event) => handleDropdown(event)\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"absolute top-[16%] w-full h-[92%]\">\r\n\t\t\t<DataTable\r\n\t\t\t\t:value=\"myBlocksBaseOnZoneID\"\r\n\t\t\t\tv-model:filters=\"filters\"\r\n\t\t\t\t:paginator=\"true\"\r\n\t\t\t\t:rows=\"50\"\r\n\t\t\t\t:rowsPerPageOptions=\"[5, 10, 20, 50]\"\r\n\t\t\t\tscrollable\r\n\t\t\t\tscrollHeight=\"flex\"\r\n\t\t\t\tremovableSort\r\n\t\t\t\tv-auto-animate\r\n\t\t\t>\r\n\t\t\t\t<template #empty>\r\n\t\t\t\t\t<div class=\"flex justify-center items-center\">\r\n\t\t\t\t\t\t<span>No block found.</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t\t<Column\r\n\t\t\t\t\tfield=\"desc\"\r\n\t\t\t\t\theader=\"Name\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #body=\"{ data }\">\r\n\t\t\t\t\t\t{{ data['desc'] }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</Column>\r\n\r\n\t\t\t\t<Column\r\n\t\t\t\t\tfield=\"type\"\r\n\t\t\t\t\theader=\"Type\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #body=\"{ data }\">\r\n\t\t\t\t\t\t{{ data['type'] }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</Column>\r\n\r\n\t\t\t\t<Column\r\n\t\t\t\t\tfield=\"progress\"\r\n\t\t\t\t\theader=\"Progress\"\r\n\t\t\t\t\tsortable\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #body=\"{ data }\">\r\n\t\t\t\t\t\t<Knob\r\n\t\t\t\t\t\t\tv-model=\"data['progress']\"\r\n\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t:size=\"50\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</Column>\r\n\r\n\t\t\t\t<Column header=\"Actions\">\r\n\t\t\t\t\t<template #body=\"{ data }\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\tseverity=\"secondary\"\r\n\t\t\t\t\t\t\t@click=\"toggleViewDetailsBlock(data)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon name=\"mdi:eye-outline\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\tseverity=\"secondary\"\r\n\t\t\t\t\t\t\t@click=\"toggleEditBlock(data)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon name=\"mdi:edit-outline\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\tseverity=\"danger\"\r\n\t\t\t\t\t\t\t@click=\"toggleDeleteBlock(data)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon name=\"mdi:delete-outline\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\tseverity=\"secondary\"\r\n\t\t\t\t\t\t\t@click=\"(event) => menu.toggle(event)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon name=\"mdi:more-vert\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\tref=\"menu\"\r\n\t\t\t\t\t\t\t:model=\"menuItems\"\r\n\t\t\t\t\t\t\t:popup=\"true\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</Column>\r\n\t\t\t</DataTable>\r\n\t\t</div>\r\n\t</div>\r\n\t<ViewDetailsBlockDialog\r\n\t\tv-if=\"viewDetailsBlockDialogVisible\"\r\n\t\t:visible=\"viewDetailsBlockDialogVisible\"\r\n\t\t:types=\"types\"\r\n\t/>\r\n\t<CreateBlockDialog\r\n\t\tv-if=\"createBlockDialogVisible\"\r\n\t\t:visible=\"createBlockDialogVisible\"\r\n\t\t:types=\"types\"\r\n\t/>\r\n\t<EditBlockDialog\r\n\t\tv-if=\"editBlockDialogVisible\"\r\n\t\t:visible=\"editBlockDialogVisible\"\r\n\t\t:types=\"types\"\r\n\t/>\r\n\t<DeleteBlockDialog\r\n\t\tv-if=\"deleteBlockDialogVisible\"\r\n\t\t:visible=\"deleteBlockDialogVisible\"\r\n\t/>\r\n</template>\r\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGC,UAAM,EAAE,MAAO,IAAG,YAAY,cAAe,CAAA;AAC7C,UAAM,EAAE,aAAa;AACrB,UAAM,EAAE,QAAQ,aAAY,IAAK,YAAY,eAAgB,CAAA;AAC7D,UAAM,EAAE,cAAc;AAEtB,IAAM,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,SAAQ,CAAC;AACf,IAAM,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,UAAS,CAAC;AAEhB,UAAM,QAAQ,MAAM,MAAM,IAAI,CAAC,SAAS;AACvC,aAAO,EAAE,IAAI,KAAK,IAAI,MAAM,GAAG,KAAK,IAAI,IAAI,OAAO,GAAG,KAAK,EAAE,GAAE;AAAA,IACjE,CAAE;AACD,UAAM,cAAc,IAAI;AAAA,MACvB,QAAM,WAAM,MAAM,CAAC,MAAb,mBAAgB,SAAQ;AAAA,MAC9B,SAAO,WAAM,MAAM,CAAC,MAAb,mBAAgB,UAAS;AAAA,IAClC,CAAE;AACD,UAAM,uBAAuB,SAAS,MAAM;AAC3C,aAAO,OAAO,MAAM,OAAO,CAAC,UAAU;AACrC,eAAO,MAAM,SAAS,KAAK,YAAY,MAAM;AAAA,MAChD,CAAG;AAAA,IACH,CAAE;AACD,UAAM,QAAQ,IAAI;AAAA,MACjB,EAAE,MAAM,UAAU,OAAO,SAAU;AAAA,MACnC,EAAE,MAAM,UAAU,OAAO,SAAU;AAAA,IACrC,CAAE;AACD,UAAM,UAAU,IAAI;AAAA,MACnB,QAAQ,EAAE,OAAO,MAAM,WAAW,gBAAgB,SAAU;AAAA,IAC9D,CAAE;AACD,UAAM,OAAO;AACb,UAAM,YAAY,IAAI;AAAA,MACrB;AAAA,QACC,OAAO;AAAA,QACP,SAAS,MAAM;AAAA,QAAE;AAAA,MACjB;AAAA,IACH,CAAE;AAED,UAAM,gCAAgC,IAAI,KAAK;AAC/C,UAAM,2BAA2B,IAAI,KAAK;AAC1C,UAAM,yBAAyB,IAAI,KAAK;AACxC,UAAM,2BAA2B,IAAI,KAAK;AAE1C,UAAM,iBAAiB,CAAC,UAAU;AACjC,2BAAqB,QAAQ,OAAO,MAAM,OAAO,CAAC,UAAU;AAC3D,eAAO,MAAM,SAAS,KAAK,MAAM;AAAA,MACpC,CAAG;AAAA,IACH;AACC,UAAM,yBAAyB,CAAC,SAAS;AACxC,mBAAa,QAAQ;AACrB,oCAA8B,QAAQ,CAAC,8BAA8B;AAAA,IACvE;AACC,UAAM,kBAAkB,CAAC,SAAS;AACjC,mBAAa,QAAQ;AACrB,6BAAuB,QAAQ,CAAC,uBAAuB;AAAA,IACzD;AACC,UAAM,oBAAoB,OAAO,SAAS;AACzC,mBAAa,QAAQ;AACrB,+BAAyB,QAAQ,CAAC,yBAAyB;AAAA,IAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
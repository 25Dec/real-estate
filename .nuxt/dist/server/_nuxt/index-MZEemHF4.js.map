{"version":3,"file":"index-MZEemHF4.js","sources":["../../../../pages/project_details/land_area/index.vue"],"sourcesContent":["<script setup>\r\n\timport { FilterMatchMode } from 'primevue/api';\r\n\r\n\tconst { zones } = storeToRefs(useZonesStore());\r\n\tconst { getZones } = useZonesStore();\r\n\tconst { landAreas } = storeToRefs(useLandAreasStore());\r\n\tconst { getLandAreas, setCurrentLandArea } = useLandAreasStore();\r\n\tconst router = useRouter();\r\n\r\n\tawait getZones();\r\n\tawait getLandAreas();\r\n\r\n\tzones.value = zones.value.map((zone) => {\r\n\t\treturn { id: zone.id, name: `${zone.name}`, value: `${zone.id}` };\r\n\t});\r\n\tconst myZones = ref(zones.value);\r\n\tconst currentZone = ref({\r\n\t\tname: myZones.value[0]?.name ?? '',\r\n\t\tvalue: myZones.value[0]?.value ?? '',\r\n\t});\r\n\r\n\tconst myLandAreasBaseOnZoneID = computed(() => {\r\n\t\treturn landAreas.value.filter((landArea) => {\r\n\t\t\treturn landArea['zone_id'] == currentZone.value.value;\r\n\t\t});\r\n\t});\r\n\tconst statuses = ref([\r\n\t\t{ name: 'Booked', value: 'booked' },\r\n\t\t{ name: 'Not Booked', value: 'not booked' },\r\n\t]);\r\n\tconst filters = ref({\r\n\t\tglobal: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n\t});\r\n\tconst menu = ref();\r\n\tconst menuItems = ref([\r\n\t\t{\r\n\t\t\tlabel: 'Payment',\r\n\t\t\tcommand: () => {\r\n\t\t\t\trouter.push('land_area/payment');\r\n\t\t\t},\r\n\t\t},\r\n\t]);\r\n\tconst viewDetailsLandAreaDialogVisible = ref(false);\r\n\tconst createLandAreaDialogVisible = ref(false);\r\n\tconst editLandAreaDialogVisible = ref(false);\r\n\tconst deleteLandAreaDialogVisible = ref(false);\r\n\r\n\tconst handleDropdown = (event) => {\r\n\t\tmyLandAreasBaseOnZoneID.value = landAreas.value.filter((landAreas) => {\r\n\t\t\treturn landAreas['zone_id'] == event.value;\r\n\t\t});\r\n\t};\r\n\tconst toggleMenu = (event, data) => {\r\n\t\tsetCurrentLandArea(data);\r\n\t\tmenu.value.toggle(event);\r\n\t};\r\n\tconst toggleViewDetailsLandArea = (data) => {\r\n\t\tsetCurrentLandArea(data);\r\n\t\tviewDetailsLandAreaDialogVisible.value =\r\n\t\t\t!viewDetailsLandAreaDialogVisible.value;\r\n\t};\r\n\tconst toggleEditLandArea = (data) => {\r\n\t\tsetCurrentLandArea(data);\r\n\t\teditLandAreaDialogVisible.value = !editLandAreaDialogVisible.value;\r\n\t};\r\n\tconst toggleDeleteLandArea = async (data) => {\r\n\t\tsetCurrentLandArea(data);\r\n\t\tdeleteLandAreaDialogVisible.value = !deleteLandAreaDialogVisible.value;\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"w-full h-full flex flex-col\">\r\n\t\t<div\r\n\t\t\tclass=\"fixed right-0 top-0 z-50 backdrop-blur-xl w-5/6 h-[8%] px-4 border-b flex justify-between items-center\"\r\n\t\t>\r\n\t\t\t<div class=\"flex items-center gap-2\">\r\n\t\t\t\t<span class=\"font-semibold text-lg\">Land Area</span>\r\n\t\t\t\t<Tag :value=\"myLandAreasBaseOnZoneID.length\"></Tag>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"flex items-center gap-2\">\r\n\t\t\t\t<IconField iconPosition=\"left\">\r\n\t\t\t\t\t<InputIcon class=\"flex items-center\">\r\n\t\t\t\t\t\t<Icon name=\"mdi:filter-outline\" />\r\n\t\t\t\t\t</InputIcon>\r\n\t\t\t\t\t<InputText\r\n\t\t\t\t\t\tv-model=\"filters['global'].value\"\r\n\t\t\t\t\t\tplaceholder=\"Filter Land Area...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</IconField>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tlabel=\"New\"\r\n\t\t\t\t\t@click=\"createLandAreaDialogVisible = !createLandAreaDialogVisible\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div\r\n\t\t\tclass=\"fixed right-0 top-[8%] z-50 backdrop-blur-xl w-5/6 h-[8%] px-4 border-b flex justify-between items-center\"\r\n\t\t>\r\n\t\t\t<div class=\"flex items-center gap-2\">\r\n\t\t\t\t<label\r\n\t\t\t\t\tfor=\"currentZone\"\r\n\t\t\t\t\tclass=\"font-semibold text-lg\"\r\n\t\t\t\t\t>Current Zone:\r\n\t\t\t\t</label>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\tid=\"currentZone\"\r\n\t\t\t\t\tplaceholder=\"Select Zone\"\r\n\t\t\t\t\tv-model=\"currentZone.value\"\r\n\t\t\t\t\t:options=\"zones\"\r\n\t\t\t\t\toptionLabel=\"name\"\r\n\t\t\t\t\toptionValue=\"value\"\r\n\t\t\t\t\t@change=\"(event) => handleDropdown(event)\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"absolute top-[16%] w-full h-[92%]\">\r\n\t\t\t<DataTable\r\n\t\t\t\t:value=\"myLandAreasBaseOnZoneID\"\r\n\t\t\t\tv-model:filters=\"filters\"\r\n\t\t\t\t:paginator=\"true\"\r\n\t\t\t\t:rows=\"50\"\r\n\t\t\t\t:rowsPerPageOptions=\"[5, 10, 20, 50]\"\r\n\t\t\t\tscrollable\r\n\t\t\t\tscrollHeight=\"flex\"\r\n\t\t\t\tremovableSort\r\n\t\t\t\tv-auto-animate\r\n\t\t\t>\r\n\t\t\t\t<template #empty>\r\n\t\t\t\t\t<div class=\"flex justify-center items-center\">\r\n\t\t\t\t\t\t<span>No land area found.</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t\t<Column\r\n\t\t\t\t\tfield=\"desc\"\r\n\t\t\t\t\theader=\"Name\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #body=\"{ data }\">\r\n\t\t\t\t\t\t{{ data['desc'] }}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</Column>\r\n\r\n\t\t\t\t<Column\r\n\t\t\t\t\tfield=\"type\"\r\n\t\t\t\t\theader=\"Buy Status\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #body=\"{ data }\">\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t:severity=\"data['buy_status'] == 'booked' ? 'danger' : 'success'\"\r\n\t\t\t\t\t\t\t:value=\"data['buy_status'].toUpperCase()\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</Column>\r\n\r\n\t\t\t\t<Column\r\n\t\t\t\t\tfield=\"progress\"\r\n\t\t\t\t\theader=\"Progress\"\r\n\t\t\t\t\tsortable\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #body=\"{ data }\">\r\n\t\t\t\t\t\t<Knob\r\n\t\t\t\t\t\t\tv-model=\"data['progress']\"\r\n\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t:size=\"50\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</Column>\r\n\r\n\t\t\t\t<Column header=\"Actions\">\r\n\t\t\t\t\t<template #body=\"{ data }\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\tseverity=\"secondary\"\r\n\t\t\t\t\t\t\t@click=\"toggleViewDetailsLandArea(data)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon name=\"mdi:eye-outline\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\tseverity=\"secondary\"\r\n\t\t\t\t\t\t\t@click=\"toggleEditLandArea(data)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon name=\"mdi:edit-outline\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\tseverity=\"danger\"\r\n\t\t\t\t\t\t\t@click=\"toggleDeleteLandArea(data)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon name=\"mdi:delete-outline\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\tseverity=\"secondary\"\r\n\t\t\t\t\t\t\t@click=\"(event) => toggleMenu(event, data)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon name=\"mdi:more-vert\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\tref=\"menu\"\r\n\t\t\t\t\t\t\t:model=\"menuItems\"\r\n\t\t\t\t\t\t\t:popup=\"true\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</Column>\r\n\t\t\t</DataTable>\r\n\t\t</div>\r\n\t</div>\r\n\t<ViewDetailsLandAreaDialog\r\n\t\tv-if=\"viewDetailsLandAreaDialogVisible\"\r\n\t\t:visible=\"viewDetailsLandAreaDialogVisible\"\r\n\t\t:statuses=\"statuses\"\r\n\t/>\r\n\t<CreateLandAreaDialog\r\n\t\tv-if=\"createLandAreaDialogVisible\"\r\n\t\t:visible=\"createLandAreaDialogVisible\"\r\n\t\t:statuses=\"statuses\"\r\n\t/>\r\n\t<EditLandAreaDialog\r\n\t\tv-if=\"editLandAreaDialogVisible\"\r\n\t\t:visible=\"editLandAreaDialogVisible\"\r\n\t\t:statuses=\"statuses\"\r\n\t/>\r\n\t<DeleteLandAreaDialog\r\n\t\tv-if=\"deleteLandAreaDialogVisible\"\r\n\t\t:visible=\"deleteLandAreaDialogVisible\"\r\n\t/>\r\n</template>\r\n"],"names":["_withAsyncContext","landAreas"],"mappings":"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"}
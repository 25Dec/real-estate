{"version":3,"file":"floor-store-Cy61MA60.js","sources":["../../../../stores/floor-store.js"],"sourcesContent":["import { baseUrl } from '~/constants';\r\n\r\nexport const useFloorsStore = defineStore('Floors', () => {\r\n\tconst floors = ref([]);\r\n\tconst floorsDropdown = ref([]);\r\n\tconst currentFloor = ref({});\r\n\r\n\tconst getFloors = async () => {\r\n\t\tconst accessToken = useCookie('token');\r\n\t\tconst { data } = await useFetch(baseUrl + '/auth/floor', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\taccess_token: accessToken.value,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tfloors.value = data.value.data.data;\r\n\r\n\t\tif (data.value.data.data.length)\r\n\t\t\tfloorsDropdown.value = floors.value.map((payment) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tname: `${payment['desc']}`,\r\n\t\t\t\t\tvalue: `${payment['id']}`,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\telse floorsDropdown.value = [];\r\n\t};\r\n\r\n\tconst addNewFloor = async (data) => {\r\n\t\tconst accessToken = useCookie('token');\r\n\t\tconst response = await $fetch(baseUrl + `/auth/floor`, {\r\n\t\t\tmethod: 'post',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\taccess_token: accessToken.value,\r\n\t\t\t},\r\n\t\t\tbody: data,\r\n\t\t});\r\n\r\n\t\tawait getFloors();\r\n\t\treturn response;\r\n\t};\r\n\r\n\tconst editFloor = async (data) => {\r\n\t\tconst accessToken = useCookie('token');\r\n\t\tconst response = await $fetch(baseUrl + `/auth/floor/${data['id']}`, {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\taccess_token: accessToken.value,\r\n\t\t\t},\r\n\t\t\tbody: data,\r\n\t\t});\r\n\r\n\t\tawait getFloors();\r\n\t\treturn response;\r\n\t};\r\n\r\n\tconst deleteFloor = async (data) => {\r\n\t\tconst accessToken = useCookie('token');\r\n\t\tlet response = '';\r\n\t\ttry {\r\n\t\t\tresponse = await $fetch(baseUrl + `/auth/floor/${data['id']}`, {\r\n\t\t\t\tmethod: 'delete',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\taccess_token: accessToken.value,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tresponse = { ...error };\r\n\t\t}\r\n\r\n\t\tawait getFloors();\r\n\t\treturn response;\r\n\t};\r\n\r\n\treturn {\r\n\t\tfloors,\r\n\t\tfloorsDropdown,\r\n\t\tcurrentFloor,\r\n\t\tgetFloors,\r\n\t\taddNewFloor,\r\n\t\teditFloor,\r\n\t\tdeleteFloor,\r\n\t};\r\n});\r\n"],"names":[],"mappings":";;;;;;;;AAEY,MAAC,iBAAiB,YAAY,UAAU,MAAM;AACzD,QAAM,SAAS,IAAI,CAAA,CAAE;AACrB,QAAM,iBAAiB,IAAI,CAAA,CAAE;AAC7B,QAAM,eAAe,IAAI,CAAA,CAAE;AAE3B,QAAM,YAAY,YAAY;AAC7B,UAAM,cAAc,UAAU,OAAO;AACrC,UAAM,EAAE,KAAM,IAAG,MAAM,SAAS,UAAU,eAAe;AAAA,MACxD,SAAS;AAAA,QACR,gBAAgB;AAAA,QAChB,cAAc,YAAY;AAAA,MAC1B;AAAA,IACF,GAAA,aAAC;AAED,WAAO,QAAQ,KAAK,MAAM,KAAK;AAE/B,QAAI,KAAK,MAAM,KAAK,KAAK;AACxB,qBAAe,QAAQ,OAAO,MAAM,IAAI,CAAC,YAAY;AACpD,eAAO;AAAA,UACN,MAAM,GAAG,QAAQ,MAAM,CAAC;AAAA,UACxB,OAAO,GAAG,QAAQ,IAAI,CAAC;AAAA,QAC5B;AAAA,MACA,CAAI;AAAA,QACG,gBAAe,QAAQ;EAC9B;AAEC,QAAM,cAAc,OAAO,SAAS;AACnC,UAAM,cAAc,UAAU,OAAO;AACrC,UAAM,WAAW,MAAM,OAAO,UAAU,eAAe;AAAA,MACtD,QAAQ;AAAA,MACR,SAAS;AAAA,QACR,gBAAgB;AAAA,QAChB,cAAc,YAAY;AAAA,MAC1B;AAAA,MACD,MAAM;AAAA,IACT,CAAG;AAED,UAAM,UAAS;AACf,WAAO;AAAA,EACT;AAEC,QAAM,YAAY,OAAO,SAAS;AACjC,UAAM,cAAc,UAAU,OAAO;AACrC,UAAM,WAAW,MAAM,OAAO,UAAU,eAAe,KAAK,IAAI,CAAC,IAAI;AAAA,MACpE,QAAQ;AAAA,MACR,SAAS;AAAA,QACR,gBAAgB;AAAA,QAChB,cAAc,YAAY;AAAA,MAC1B;AAAA,MACD,MAAM;AAAA,IACT,CAAG;AAED,UAAM,UAAS;AACf,WAAO;AAAA,EACT;AAEC,QAAM,cAAc,OAAO,SAAS;AACnC,UAAM,cAAc,UAAU,OAAO;AACrC,QAAI,WAAW;AACf,QAAI;AACH,iBAAW,MAAM,OAAO,UAAU,eAAe,KAAK,IAAI,CAAC,IAAI;AAAA,QAC9D,QAAQ;AAAA,QACR,SAAS;AAAA,UACR,gBAAgB;AAAA,UAChB,cAAc,YAAY;AAAA,QAC1B;AAAA,MACL,CAAI;AAAA,IACD,SAAQ,OAAO;AACf,iBAAW,EAAE,GAAG;IAChB;AAED,UAAM,UAAS;AACf,WAAO;AAAA,EACT;AAEC,SAAO;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,CAAC;"}